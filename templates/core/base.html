{% load static %}
<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Cl√≠nicaVet+{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <style>
    .sidebar {
      background: linear-gradient(180deg, #2c3e50 0%, #3498db 100%);
      min-height: 100vh;
    }

    [data-bs-theme="dark"] .sidebar {
      background: linear-gradient(180deg, #1a1a1a 0%, #2d3748 100%);
    }

    .nav-link-custom {
      color: rgba(255, 255, 255, 0.8) !important;
      border-radius: 0.75rem !important;
      margin: 0.25rem 0.5rem !important;
      transition: all 0.3s ease !important;
    }

    .nav-link-custom:hover,
    .nav-link-custom.active {
      background: rgba(255, 255, 255, 0.15) !important;
      color: white !important;
      transform: translateX(5px);
    }

    .login-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    [data-bs-theme="dark"] .login-bg {
      background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
    }

    .card-glass {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.95);
    }

    [data-bs-theme="dark"] .card-glass {
      background: rgba(33, 37, 41, 0.95);
    }

    /* Dark Mode Improvements */
    [data-bs-theme="dark"] .card {
      background-color: #212529;
      /* Darker background for cards */
      border-color: #373b3e;
    }

    [data-bs-theme="dark"] .bg-light {
      background-color: #2c3034 !important;
      /* Darker 'light' background */
    }

    [data-bs-theme="dark"] .table-light {
      background-color: #2c3034;
      color: #e9ecef;
      border-color: #373b3e;
    }

    [data-bs-theme="dark"] .table-light th {
      background-color: #2c3034;
      color: #e9ecef;
      border-bottom-color: #373b3e;
    }

    [data-bs-theme="dark"] .form-control,
    [data-bs-theme="dark"] .form-select {
      background-color: #212529;
      border-color: #373b3e;
      color: #e9ecef;
    }

    [data-bs-theme="dark"] .form-control:focus,
    [data-bs-theme="dark"] .form-select:focus {
      background-color: #212529;
      border-color: #86b7fe;
      color: #e9ecef;
    }
  </style>

  <script>
    (function () {
      const storedTheme = localStorage.getItem('theme');
      const preferredTheme = storedTheme ? storedTheme : (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      document.documentElement.setAttribute('data-bs-theme', preferredTheme);
    })();
  </script>
</head>

<body>
  {% block body %}
  {% endblock %}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{% static 'js/theme.js' %}"></script>
</body>

</html>